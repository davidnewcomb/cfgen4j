package uk.co.bigsoft.apps.cfgen4j.gen;

import java.util.Date;

import com.squareup.javapoet.JavaFile;
import com.squareup.javapoet.TypeSpec;

public class JavaFileFactory {

	private String header;

	public JavaFileFactory() {
		header = createFileComment();
	}

	public JavaFile create(String packageName, TypeSpec builder) {
		return JavaFile.builder(packageName, builder) //
				.skipJavaLangImports(true) //
				.indent("\t") //
				.addFileComment(header) //
				.build();
	}

	private String createFileComment() {
		StringBuilder s = new StringBuilder();
		s.append("\n");
		s.append("Generated by CfGen4j on ");
		s.append(new Date().toString());
		s.append("\n");
		s.append("https://github.com/davidnewcomb/cfgen4j");
		s.append("\n");
		return s.toString();
	}
}
